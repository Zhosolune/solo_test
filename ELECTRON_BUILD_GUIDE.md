# é›·è¾¾ä¿¡å·åˆ†æè½¯ä»¶ - Electron æ¡Œé¢åº”ç”¨æ‰“åŒ…æŒ‡å—

## é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº React + Electron çš„é›·è¾¾ä¿¡å·åˆ†ææ¡Œé¢åº”ç”¨ç¨‹åºã€‚é¡¹ç›®å·²ç»å®Œæˆäº†å®Œæ•´çš„ Electron é…ç½®å’Œæ‰“åŒ…è®¾ç½®ã€‚

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: React 18 + TypeScript
- **æ¡Œé¢æ¡†æ¶**: Electron 37.2.5
- **æ„å»ºå·¥å…·**: Vite 6.3.5
- **æ‰“åŒ…å·¥å…·**: electron-builder 26.0.12
- **UI ç»„ä»¶**: Ant Design 5.26.7
- **æ ·å¼**: Tailwind CSS 3.4.17

## é¡¹ç›®ç»“æ„

```
solo_test/
â”œâ”€â”€ electron/                 # Electron ä¸»è¿›ç¨‹æºç 
â”‚   â”œâ”€â”€ main.ts              # ä¸»è¿›ç¨‹å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ tsconfig.json        # Electron TypeScript é…ç½®
â”œâ”€â”€ src/                     # React åº”ç”¨æºç 
â”œâ”€â”€ dist/                    # React æ„å»ºè¾“å‡º
â”œâ”€â”€ dist-electron/           # Electron æ‰“åŒ…è¾“å‡º
â”œâ”€â”€ main.js                  # ç¼–è¯‘åçš„ä¸»è¿›ç¨‹æ–‡ä»¶
â””â”€â”€ package.json             # é¡¹ç›®é…ç½®å’Œä¾èµ–
```

## æ‰“åŒ…é…ç½®è¯´æ˜

### package.json é…ç½®

é¡¹ç›®å·²é…ç½®å®Œæ•´çš„ electron-builder è®¾ç½®ï¼š

```json
{
  "main": "main.js",
  "build": {
    "appId": "com.radar.signal.analysis",
    "productName": "é›·è¾¾ä¿¡å·åˆ†æè½¯ä»¶",
    "asar": true,
    "directories": {
      "output": "dist-electron"
    },
    "files": [
      "dist/**/*",
      "main.js",
      "package.json"
    ],
    "win": {
      "target": {
        "target": "nsis",
        "arch": ["x64"]
      },
      "icon": "public/favicon.ico"
    },
    "nsis": {
      "oneClick": false,
      "allowElevation": true,
      "allowToChangeInstallationDirectory": true,
      "createDesktopShortcut": true,
      "createStartMenuShortcut": true,
      "shortcutName": "é›·è¾¾ä¿¡å·åˆ†æè½¯ä»¶"
    }
  }
}
```

### æ„å»ºè„šæœ¬

- `npm run build` - æ„å»º React åº”ç”¨
- `npm run build:electron-main` - ç¼–è¯‘ Electron ä¸»è¿›ç¨‹
- `npm run electron:build` - å®Œæ•´æ„å»ºå¹¶æ‰“åŒ…
- `npm run electron:pack` - æ‰“åŒ…ä½†ä¸ç”Ÿæˆå®‰è£…ç¨‹åº
- `npm run electron:dist` - ç”Ÿæˆåˆ†å‘ç‰ˆæœ¬

## æ‰“åŒ…æ­¥éª¤

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. æ„å»ºåº”ç”¨

```bash
# æ„å»º React åº”ç”¨
npm run build

# ç¼–è¯‘ Electron ä¸»è¿›ç¨‹
npm run build:electron-main

# æ‰“åŒ…æˆæ¡Œé¢åº”ç”¨
npm run electron:dist
```

### 3. è¾“å‡ºæ–‡ä»¶

æ‰“åŒ…å®Œæˆåï¼Œåœ¨ `dist-electron/` ç›®å½•ä¸‹ä¼šç”Ÿæˆï¼š

- `é›·è¾¾ä¿¡å·åˆ†æè½¯ä»¶ Setup 0.0.0.exe` - Windows å®‰è£…ç¨‹åº
- `win-unpacked/` - æœªæ‰“åŒ…çš„åº”ç”¨æ–‡ä»¶å¤¹
- `é›·è¾¾ä¿¡å·åˆ†æè½¯ä»¶.exe` - å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆåœ¨ win-unpacked ç›®å½•ä¸­ï¼‰

## åº”ç”¨ç‰¹æ€§

### çª—å£é…ç½®
- é»˜è®¤å°ºå¯¸ï¼š1400x900
- æœ€å°å°ºå¯¸ï¼š1200x800
- å®‰å…¨é…ç½®ï¼šç¦ç”¨ nodeIntegrationï¼Œå¯ç”¨ contextIsolation

### èœå•åŠŸèƒ½
- **æ–‡ä»¶èœå•**ï¼šå¯¼å…¥ä¿¡å·æ•°æ®ã€å¯¼å‡ºåˆ†æç»“æœ
- **åˆ†æèœå•**ï¼šå¼€å§‹/åœæ­¢ä¿¡å·åˆ†æ
- **è§†å›¾èœå•**ï¼šé‡æ–°åŠ è½½ã€å¼€å‘è€…å·¥å…·ã€ç¼©æ”¾æ§åˆ¶
- **å¸®åŠ©èœå•**ï¼šå…³äºä¿¡æ¯

### åç«¯é›†æˆ
- æ”¯æŒ Python åç«¯æœåŠ¡é›†æˆ
- å¼€å‘ç¯å¢ƒï¼šè¿æ¥åˆ° localhost:8000
- ç”Ÿäº§ç¯å¢ƒï¼šè‡ªåŠ¨å¯åŠ¨å†…ç½® Python æœåŠ¡

## å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# å¯åŠ¨ Electron å¼€å‘æ¨¡å¼
npm run electron:dev
```

## éƒ¨ç½²è¯´æ˜

### Windows éƒ¨ç½²
1. è¿è¡Œ `npm run electron:dist` ç”Ÿæˆå®‰è£…ç¨‹åº
2. åˆ†å‘ `é›·è¾¾ä¿¡å·åˆ†æè½¯ä»¶ Setup 0.0.0.exe` æ–‡ä»¶
3. ç”¨æˆ·åŒå‡»å®‰è£…ç¨‹åºå³å¯å®‰è£…åº”ç”¨

### ç»¿è‰²ç‰ˆéƒ¨ç½²
1. ä½¿ç”¨ `npm run electron:pack` ç”Ÿæˆæœªæ‰“åŒ…ç‰ˆæœ¬
2. åˆ†å‘æ•´ä¸ª `win-unpacked` æ–‡ä»¶å¤¹
3. ç”¨æˆ·ç›´æ¥è¿è¡Œ `é›·è¾¾ä¿¡å·åˆ†æè½¯ä»¶.exe`

## æ³¨æ„äº‹é¡¹

1. **å›¾æ ‡æ–‡ä»¶**ï¼šå·²æ·»åŠ åŸºç¡€å›¾æ ‡ï¼Œå»ºè®®æ›¿æ¢ä¸ºä¸“ä¸šè®¾è®¡çš„å›¾æ ‡
2. **ä»£ç ç­¾å**ï¼šç”Ÿäº§ç¯å¢ƒå»ºè®®é…ç½®ä»£ç ç­¾åè¯ä¹¦
3. **è‡ªåŠ¨æ›´æ–°**ï¼šå¯é…ç½® electron-updater å®ç°è‡ªåŠ¨æ›´æ–°åŠŸèƒ½
4. **æ€§èƒ½ä¼˜åŒ–**ï¼šå¤§å‹ chunk å»ºè®®ä½¿ç”¨ä»£ç åˆ†å‰²ä¼˜åŒ–

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ„å»ºå¤±è´¥**
   - æ£€æŸ¥ Node.js ç‰ˆæœ¬ï¼ˆæ¨è 18+ï¼‰
   - æ¸…ç† node_modules é‡æ–°å®‰è£…
   - æ£€æŸ¥ TypeScript ç¼–è¯‘é”™è¯¯

2. **æ‰“åŒ…å¤±è´¥**
   - ç¡®ä¿ dist ç›®å½•å­˜åœ¨ä¸”åŒ…å«æ„å»ºæ–‡ä»¶
   - æ£€æŸ¥ electron-builder é…ç½®
   - æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—

3. **åº”ç”¨å¯åŠ¨å¤±è´¥**
   - æ£€æŸ¥ä¸»è¿›ç¨‹æ–‡ä»¶è·¯å¾„
   - éªŒè¯ HTML æ–‡ä»¶åŠ è½½è·¯å¾„
   - æŸ¥çœ‹å¼€å‘è€…æ§åˆ¶å°é”™è¯¯

## ç‰ˆæœ¬ä¿¡æ¯

- åº”ç”¨ç‰ˆæœ¬ï¼š0.0.0
- Electron ç‰ˆæœ¬ï¼š37.2.5
- æ„å»ºæ—¶é—´ï¼š2024å¹´

---

**æ‰“åŒ…æˆåŠŸï¼** ğŸ‰

å®‰è£…ç¨‹åºå·²ç”Ÿæˆï¼š`dist-electron/é›·è¾¾ä¿¡å·åˆ†æè½¯ä»¶ Setup 0.0.0.exe`

å¯ç›´æ¥åˆ†å‘æ­¤æ–‡ä»¶ç»™ç”¨æˆ·å®‰è£…ä½¿ç”¨ã€‚